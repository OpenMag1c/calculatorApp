"use strict";(self.webpackChunktask_calculator=self.webpackChunktask_calculator||[]).push([[138],{118:function(n,e,t){t.d(e,{U:function(){return o},f:function(){return i}});t(791);var r=t(184);function o(){return(0,r.jsx)("i",{className:"fa-solid fa-circle-exclamation fa-3x"})}function i(){return(0,r.jsx)("i",{className:"fa-solid fa-sort-down"})}},138:function(n,e,t){t.r(e),t.d(e,{default:function(){return In}});var r=t(907);var o=t(199),i=t(181);function s(n){return function(n){if(Array.isArray(n))return(0,r.Z)(n)}(n)||(0,o.Z)(n)||(0,i.Z)(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var a,u=t(671),c=t(144),l=t(326),h=t(340),f=t(62),m=t(791),d=t(168),p=t(31),g=p.ZP.span(a||(a=(0,d.Z)(["\n  min-height: 4rem;\n  height: 10%;\n  width: 100%;\n  color: ",";\n  font-size: ","px;\n  background-color: transparent;\n  text-align: right;\n  outline: none;\n  border: none;\n"])),(function(n){return n.theme.colors.black}),(function(n){return n.theme.fontSizes[7]})),v=t(184);function x(n){var e=n.text;return(0,v.jsx)(g,{children:e})}var b,y,Z,w,k,j,S=["C","7","8","9","*","-","4","5","6","/","+","1","2","3","=",".","(","0",")","CE"],E=["+","-","*","/"],C=t(413),P=p.ZP.button(b||(b=(0,d.Z)(["\n  height: 4rem;\n  width: 4rem;\n  margin: 0.4rem;\n  flex-basis: 14%;\n  border: 1px solid ",";\n  border-radius: 0.5rem;\n  background-color: ",";\n  font-size: ","px;\n  box-shadow: inset -0.5rem -0.5rem 0.5rem\n    ",";\n  transition: 0.2s all;\n  color: ",";\n\n  ",";\n\n  ",";\n\n  ",";\n\n  ",";\n\n  ",";\n\n  &:hover {\n    cursor: pointer;\n    background-color: ",";\n    box-shadow: inset -0.5rem -0.5rem 0.5rem\n      ",";\n  }\n"])),(function(n){return n.theme.colors.black}),(function(n){return n.theme.colors.light}),(function(n){return n.theme.fontSizes[3]}),(function(n){return n.theme.colors.lightGray}),(function(n){return n.theme.colors.black}),(function(n){var e=n.theme;return e.below.xs(y||(y=(0,d.Z)(["\n    height: 4.5rem;\n    width: 4.5rem;\n    margin: 0 0.5rem;\n    border-radius: 1rem;\n    font-size: ","px;\n  "])),e.fontSizes[4])}),(function(n){var e=n.theme;return e.above.xs(Z||(Z=(0,d.Z)(["\n    height: 4.5rem;\n    width: 4.5rem;\n    margin: 0 0.8rem;\n    border-radius: 1rem;\n    font-size: ","px;\n  "])),e.fontSizes[4])}),(function(n){var e=n.theme;return e.above.small(w||(w=(0,d.Z)(["\n    height: 5rem;\n    width: 5rem;\n    margin: 0 0.9rem;\n    font-size: ","px;\n  "])),e.fontSizes[5])}),(function(n){var e=n.theme;return e.above.med(k||(k=(0,d.Z)(["\n    height: 6.5rem;\n    width: 6.5rem;\n    margin: 0.5rem 1.3rem;\n    font-size: ","px;\n  "])),e.fontSizes[6])}),(function(n){var e=n.theme;return e.above.large(j||(j=(0,d.Z)(["\n    height: 7rem;\n    width: 7rem;\n    margin: 0.5rem 1.5rem;\n    font-size: ","px;\n  "])),e.fontSizes[6])}),(function(n){return n.theme.colors.lightGray}),(function(n){return n.theme.colors.light}));var z,N,I,H,R,K,A,U=function(n){var e=n.text;return(0,v.jsx)(P,(0,C.Z)((0,C.Z)({},n),{},{children:e}))},V=p.ZP.div(z||(z=(0,d.Z)(["\n  width: 100%;\n  flex: 1;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n  align-items: center;\n  border-top: 1px solid ",";\n"])),(function(n){return n.theme.colors.black})),M=function(n){(0,h.Z)(t,n);var e=(0,f.Z)(t);function t(){return(0,u.Z)(this,t),e.apply(this,arguments)}return(0,c.Z)(t,[{key:"render",value:function(){var n=this.props.onPressKey;return(0,v.jsx)(V,{children:S.map((function(e){return(0,v.jsx)(U,{type:"button",onClick:n(e),text:e},e)}))})}}]),t}(m.PureComponent),F=M,G=t(850),J=p.ZP.div(N||(N=(0,d.Z)(["\n  margin-left: 0.5rem;\n  width: 20%;\n  min-width: 14rem;\n  height: 100%;\n  align-items: center;\n  border-left: 1px solid ",";\n  overflow-y: scroll;\n\n  ::-webkit-scrollbar {\n    width: 0.5rem; /* \u0448\u0438\u0440\u0438\u043d\u0430 \u0434\u043b\u044f \u0432\u0435\u0440\u0442\u0438\u043a\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u0441\u043a\u0440\u043e\u043b\u043b\u0430 */\n    height: 1rem; /* \u0432\u044b\u0441\u043e\u0442\u0430 \u0434\u043b\u044f \u0433\u043e\u0440\u0438\u0437\u043e\u043d\u0442\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u0441\u043a\u0440\u043e\u043b\u043b\u0430 */\n    background-color: transparent;\n  }\n\n  ::-webkit-scrollbar-thumb {\n    background-color: ",";\n    border-radius: 9em;\n  }\n\n  ",";\n"])),(function(n){return n.theme.colors.black}),(function(n){return n.theme.colors.dark}),(function(n){return n.theme.below.small(I||(I=(0,d.Z)(["\n    margin-left: 0;\n    border: none;\n    height: 40%;\n    width: 100%;\n  "])))})),O=p.ZP.h4(H||(H=(0,d.Z)(["\n  width: 100%;\n  padding: 0.5rem;\n  color: ",";\n  text-align: center;\n"])),(function(n){return n.theme.colors.black})),T=p.ZP.button(R||(R=(0,d.Z)(["\n  width: 100%;\n  min-height: 3rem;\n  outline: none;\n  color: ",";\n  border: none;\n  font-size: ","px;\n  background-color: transparent;\n  transition: 0.2s all;\n  cursor: pointer;\n\n  &:hover {\n    box-shadow: inset 0 0 0.3rem ",";\n  }\n"])),(function(n){return n.theme.colors.black}),(function(n){return n.theme.fontSizes[3]}),(function(n){return n.theme.colors.black})),_=function(n){(0,h.Z)(t,n);var e=(0,f.Z)(t);function t(n){var r;return(0,u.Z)(this,t),(r=e.call(this,n)).onNoteClick=function(n){return function(){(0,r.props.setExample)(n.example)}},r.onNoteClick=r.onNoteClick.bind((0,l.Z)(r)),r}return(0,c.Z)(t,[{key:"render",value:function(){var n=this,e=this.props,t=e.t,r=e.history,o=e.updateHistory;return(0,v.jsxs)(J,{children:[(0,v.jsx)(O,{children:t("names.history")}),r.map((function(e){return(0,v.jsx)(T,{type:"button",onClick:n.onNoteClick(e),children:e.example},e.id)})),r.length>0&&(0,v.jsx)(T,{type:"button",onClick:function(){return o([])},children:t("names.clear")})]})}}]),t}(m.Component),B=(0,G.Z)()(_),D=t(164),L=p.ZP.div(K||(K=(0,d.Z)(["\n  position: fixed;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  background-color: rgba(0, 0, 0, 0.6);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  opacity: 0;\n  pointer-events: none;\n  transition: 0.5s;\n"]))),$=p.ZP.div(A||(A=(0,d.Z)(["\n  padding: 2rem;\n  border-radius: 1rem;\n  background-color: ",";\n  transform: scale(0.5);\n  transition: 0.4s all;\n"])),(function(n){return n.theme.colors.white}));var q,Q=function(n){var e=n.active,t=n.setActive,r=n.children;return D.createPortal((0,v.jsx)(L,{role:"none",style:e?{opacity:"1",pointerEvents:"all"}:{},onClick:function(){return t(!1)},children:(0,v.jsx)($,{role:"none",style:e?{transform:"scale(1)"}:{},onClick:function(n){return n.stopPropagation()},children:r})}),document.getElementById("modal"))},W=t(118),X=p.ZP.div(q||(q=(0,d.Z)(["\n  display: flex;\n  justify-content: space-around;\n  flex-direction: column;\n  width: 24rem;\n  height: 14rem;\n  text-align: center;\n  font-size: ","px;\n  color: ",";\n"])),(function(n){return n.theme.fontSizes[6]}),(function(n){return n.theme.colors.black}));var Y=function(n){var e=n.message;return(0,v.jsxs)(X,{children:[(0,v.jsx)(W.U,{}),e]})},nn=t(232),en=function(){var n=window.localStorage.getItem(nn.Z.history);return JSON.parse(n)||[]};function tn(n,e){return n+e}function rn(n,e){return n-e}function on(n,e){return n*e}function sn(n,e){return n/e}var an=(0,c.Z)((function n(e){(0,u.Z)(this,n),this.execute=e})),un=function(){function n(e,t){(0,u.Z)(this,n),this.numbers=e,this.operations=t,this.commands=[]}return(0,c.Z)(n,[{key:"execute",value:function(n,e){var t=function(n){switch(n){case"*":return new an(on);case"/":return new an(sn);case"+":return new an(tn);case"-":return new an(rn)}}(n);this.numbers[e]=t.execute(this.numbers[e],this.numbers[e+1]),this.numbers.splice(e+1,1),this.operations.splice(e,1),this.commands.push(t)}},{key:"getResult",value:function(){return this.numbers[0].toString()}}]),n}(),cn=function(n){for(var e=[],t=[],r="",o=0;o<n.length;o++)"-"!==n[o]||isFinite(n[o-1])?E.includes(n[o])?(e.push(n[o]),r&&(t.push(Number(r)),r="")):"("!==n[o]&&")"!==n[o]&&(r+=n[o]):r+=n[o];return t.push(Number(r)),{operations:e,numbers:t}};var ln=function(n,e){var t=Math.pow(10,e);return Math.trunc(Math.round(n*t))/t};var hn,fn=function(n){var e=cn(n),t=e.numbers,r=e.operations;return function(n){for(var e=n.operations,t=0;t<e.length;)"*"!==e[t]&&"/"!==e[t]?t++:n.execute(e[t],t);for(var r=0;r<e.length;)"+"!==e[r]&&"-"!==e[r]?r++:n.execute(e[r],r);return n.getResult()}(new un(t,r))},mn=function(n){var e=function(n){for(var e=1;e<n.length;e++)"("!==n[e]||Number.isNaN(n[e-1])||(n="".concat(n.slice(0,e),"*").concat(n.slice(e)),e++);return n}(n);e="(".concat(e,")");for(var t=[];"("===e[0]&&")"===e[e.length-1];)for(var r=0;r<e.length;r++)if("("===e[r]&&t.push(r),")"===e[r]){var o=t.pop(),i=fn(e.slice(o+1,r));e=e.slice(0,o)+i+e.slice(r+1);break}return ln(fn(e),3)},dn=new Uint8Array(16);function pn(){if(!hn&&!(hn="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return hn(dn)}var gn=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var vn=function(n){return"string"===typeof n&&gn.test(n)},xn=[],bn=0;bn<256;++bn)xn.push((bn+256).toString(16).substr(1));var yn=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=(xn[n[e+0]]+xn[n[e+1]]+xn[n[e+2]]+xn[n[e+3]]+"-"+xn[n[e+4]]+xn[n[e+5]]+"-"+xn[n[e+6]]+xn[n[e+7]]+"-"+xn[n[e+8]]+xn[n[e+9]]+"-"+xn[n[e+10]]+xn[n[e+11]]+xn[n[e+12]]+xn[n[e+13]]+xn[n[e+14]]+xn[n[e+15]]).toLowerCase();if(!vn(t))throw TypeError("Stringified UUID is invalid");return t};var Zn,wn,kn,jn,Sn,En=function(n,e,t){var r=(n=n||{}).random||(n.rng||pn)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){t=t||0;for(var o=0;o<16;++o)e[t+o]=r[o];return e}return yn(r)},Cn=function(n,e){var t=n,r=t[t.length-1];if(E.includes(e)){if(!r&&"-"!==e&&"+"!==e)return t;if(E.includes(r))return t.slice(0,-1)+e}else switch("0"===t&&(t=""),e){case"CE":return"0";case"C":return t.slice(0,-1);case".":return"."===r?t:t+e;default:return t+e}return t+e},Pn=p.ZP.div(Zn||(Zn=(0,d.Z)(["\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: flex-start;\n  flex-wrap: wrap;\n  padding: 0.5rem 0 0.5rem 0.5rem;\n\n  ",";\n"])),(function(n){return n.theme.below.small(wn||(wn=(0,d.Z)(["\n    padding: 0;\n  "])))})),zn=p.ZP.div(kn||(kn=(0,d.Z)(["\n  flex: 1;\n  height: 100%;\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  flex-direction: column;\n\n  ",";\n"])),(function(n){return n.theme.below.small(jn||(jn=(0,d.Z)(["\n    height: 60%;\n    width: 100%;\n  "])))})),Nn=(p.ZP.h3(Sn||(Sn=(0,d.Z)([""]))),function(n){(0,h.Z)(t,n);var e=(0,f.Z)(t);function t(n){var r;return(0,u.Z)(this,t),(r=e.call(this,n)).state={example:"0",history:en(),message:"",isError:!1},r.updateHistory=r.updateHistory.bind((0,l.Z)(r)),r.onPressKey=r.onPressKey.bind((0,l.Z)(r)),r.setIsError=r.setIsError.bind((0,l.Z)(r)),r.setExample=r.setExample.bind((0,l.Z)(r)),r}return(0,c.Z)(t,[{key:"onPressKey",value:function(n){var e=this;return function(){var t=e.state,r=t.example,o=t.history,i=e.props.t;if("="===n){var a=mn(r);Number.isFinite(a)?(e.setState({example:a.toString()}),e.updateHistory([].concat(s(o),[{id:En(),example:r}]))):(e.setError("".concat(i("error.wrong")," ").concat(a)),e.setState({example:"0"}))}else{var u=Cn(r,n);u.length>=16?e.setError("".concat(i("error.length"))):e.setState({example:u})}}}},{key:"setExample",value:function(n){this.setState({example:n})}},{key:"setIsError",value:function(n){this.setState({isError:n})}},{key:"setError",value:function(n){this.setIsError(!0),this.setState({message:n})}},{key:"updateHistory",value:function(n){this.setState({history:n}),function(n){var e=JSON.stringify(n);window.localStorage.setItem(nn.Z.history,e)}(n)}},{key:"render",value:function(){var n=this.state,e=n.example,t=n.history,r=n.isError,o=n.message;return(0,v.jsxs)(Pn,{children:[(0,v.jsxs)(zn,{children:[(0,v.jsx)(x,{text:e}),(0,v.jsx)(F,{onPressKey:this.onPressKey})]}),(0,v.jsx)(B,{history:t,setExample:this.setExample,updateHistory:this.updateHistory}),(0,v.jsx)(Q,{active:r,setActive:this.setIsError,children:(0,v.jsx)(Y,{message:o})})]})}}]),t}(m.Component)),In=(0,G.Z)()(Nn)}}]);
//# sourceMappingURL=138.6a8e88c3.chunk.js.map